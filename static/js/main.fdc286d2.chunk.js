(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{10:function(e,t,s){e.exports=s(16)},15:function(e,t,s){},16:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s.n(a),r=s(8),o=s.n(r),c=(s(15),s(9)),i=s(6),l=s(1),h=s(2),u=s(4),d=s(3),p=s(5),k=function(e){return n.a.createElement("div",null,e.snakeDots.map((function(e,t){var s={left:"".concat(e[0],"%"),top:"".concat(e[1],"%")};return n.a.createElement("div",{className:"snake-dot",key:t,style:s})})))},f=function(e){var t={left:"".concat(e.dot[0],"%"),top:"".concat(e.dot[1],"%")};return n.a.createElement("div",{className:"snake-victim",style:t})},v=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t={display:this.props.showResult?"block":"none"};return n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("span",{className:"game-result",style:t},n.a.createElement("h1",null,"Game Over"),n.a.createElement("h2",null,"Result ",n.a.createElement("strong",null,this.props.score)),n.a.createElement("button",{type:"button",onClick:function(){return e.props.newGame()}}," New Game"))))}}]),t}(a.Component);function y(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function m(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?y(s,!0).forEach((function(t){Object(c.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):y(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var b=function(){return[2*Math.floor((98*Math.random()+1)/2),2*Math.floor((98*Math.random()+1)/2)]},O=[],w={intervalId:null,food:b(),speed:200,started:!1,showResult:!1,score:0,direction:"RIGHT",snakeDots:[[0,0],[2,0]]},E=function(e){function t(e){var s;return Object(l.a)(this,t),(s=Object(u.a)(this,Object(d.a)(t).call(this,e))).stop=function(){clearInterval(s.state.intervalId),s.setState({started:!s.state.started})},s.onStart=function(){if(!s.state.started)return s.speed(),s.setState({started:!s.state.started});s.stop()},s.onKeyDown=function(e){switch((e=e||window.event).keyCode){case 38:s.keyCodes.push(e.keyCode),s.setState({direction:"UP"});break;case 40:s.keyCodes.push(e.keyCode),s.setState({direction:"DOWN"});break;case 37:s.keyCodes.push(e.keyCode),s.setState({direction:"LEFT"});break;case 39:s.keyCodes.push(e.keyCode),s.setState({direction:"RIGHT"})}},s.moveSnake=function(){var e=Object(i.a)(s.state.snakeDots),t=e[e.length-1];switch(s.state.direction){case"RIGHT":t=[t[0]+2,t[1]];break;case"LEFT":t=[t[0]-2,t[1]];break;case"DOWN":t=[t[0],t[1]+2];break;case"UP":t=[t[0],t[1]-2]}e.shift(),e.push(t),s.setState({snakeDots:e})},s.newGame=function(){s.setState({showResult:!s.state.showResult,score:0}),s.keyCodes=[]},s.state=w,s.keyCodes=O,s}return Object(p.a)(t,e),Object(h.a)(t,[{key:"speed",value:function(){clearInterval(this.interval),this.interval=setInterval(this.moveSnake,this.state.speed),this.setState({intervalId:this.interval})}},{key:"componentDidMount",value:function(){document.onkeydown=this.onKeyDown}},{key:"componentDidUpdate",value:function(){this.checkIfOutOfBorders(),this.checkIfCollapsed(),this.checkIfEat()}},{key:"checkIfOutOfBorders",value:function(){var e=this.state.snakeDots[this.state.snakeDots.length-1];(e[0]>=100||e[1]>=100||e[0]<0||e[1]<0)&&this.onGameOver()}},{key:"checkIfCollapsed",value:function(){var e=this,t=Object(i.a)(this.state.snakeDots),s=t[t.length-1],a=this.state.direction;return"DOWN"===a&&38===this.keyCodes[this.keyCodes.length-2]?t.reverse():"UP"===a&&40===this.keyCodes[this.keyCodes.length-2]?t.reverse():"RIGHT"===a&&37===this.keyCodes[this.keyCodes.length-2]?t.reverse():"LEFT"===a&&39===this.keyCodes[this.keyCodes.length-2]?t.reverse():(t.pop(),void t.forEach((function(t){s[0]===t[0]&&s[1]===t[1]&&e.onGameOver()})))}},{key:"checkIfEat",value:function(){var e=this.state.snakeDots[this.state.snakeDots.length-1],t=this.state.food;if(e[0]===t[0]&&e[1]===t[1]){var s=m({},this.state);s.score=this.state.score+10,s.started=this.state.started,s.food=b(),s.snakeDots=this.enlargeSnake(),s.speed=this.increaseSpeed(),this.setState(s),this.speed()}}},{key:"enlargeSnake",value:function(){var e=Object(i.a)(this.state.snakeDots);return e.unshift([]),e}},{key:"increaseSpeed",value:function(){return this.state.speed>50?this.state.speed-10:this.state.speed}},{key:"onGameOver",value:function(){this.setState(m({},w,{showResult:!0,score:this.state.score})),this.stop()}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(v,{showResult:this.state.showResult,score:this.state.score,newGame:this.newGame}),n.a.createElement("div",{className:"app",style:{display:this.state.showResult?"none":"flex"}},n.a.createElement("div",{className:"score"},"Score ",0===this.state.score?"":this.state.score),n.a.createElement("div",{className:"game-area"},n.a.createElement(k,{snakeDots:this.state.snakeDots}),n.a.createElement(f,{dot:this.state.food})),n.a.createElement("button",{className:"start",onClick:this.onStart,style:{backgroundColor:this.state.started?"blue":"red"}},this.state.started?"Stop":"Start")))}}]),t}(a.Component);o.a.render(n.a.createElement(E,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.fdc286d2.chunk.js.map